---
# global defaults
extra-flags:
  - "--cache-from=type=gha,scope=default"
  - "--progress=plain"

images:
  test-case-12a:
    dockerfile: Dockerfile.tpl
    variables:
      alpine:
        - "3.18"
        - "3.19"
        - "3.20"
    tags:
      - test-case-12a:alpine{{ .alpine }}

  test-case-12b:
    dockerfile: Dockerfile.tpl
    variables:
      alpine:
        - "3.18"
        - "3.19"
        - "3.20"
    # override per image
    extra-flags:
      - "--cache-from=type=gha,scope=python-{{ alpine }}"
      - "--cache-to=type=gha,scope=python-{{ alpine }},mode=max"
    tags:
      - test-case-12b:alpine{{ .alpine }}
