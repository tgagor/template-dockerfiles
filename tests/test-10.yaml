---
# global build options
# they're just 'docker build' command flags
options:
  - "--debug"
  - "--cache-from=type=gha,scope=default"
  - "--progress=plain"

images:
  test-case-10a:
    dockerfile: Dockerfile
    variables:
      alpine:
        - "3.20"
        - "3.21"
    args:
      BASEIMAGE: "{{ .alpine }}"
    tags:
      - test-case-10
  test-case-10b:
    # override options per image
    options:
      - "--cache-from=type=gha,scope=alpine-{{ .alpine }}"
      - "--cache-to=type=gha,scope=alpine-{{ .alpine }},mode=max"
    dockerfile: Dockerfile
    variables:
      alpine:
        - "3.20"
        - "3.21"
    args:
      BASEIMAGE: "{{ .alpine }}"
    tags:
      - test-case-10
