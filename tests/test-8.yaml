images:
  tomcat:
    dockerfile: tomcat-Dockerfile.tpl
    variables:
      alpine:
        - "3.19"
        - "3.20"
        - "3.21"
      java:
        - 8
        - 11
        - 17
        - 21
      tomcat:
        - 9
        - 10
        - 11
    excludes:
      - tomcat: 11
        java: 8
      - tomcat: 11
        java: 11
      - tomcat: 10
        java: 8
    tags:
      - tomcat:{{ .tag }}-tomcat{{ .tomcat }}-jdk{{ .java }}-alpine{{ .alpine }}
      - tomcat:{{ .tag }}-{{ .tomcat }}-jdk{{ .java }}-alpine{{ .alpine }}
      - tomcat:{{ .tomcat }}-jdk{{ .java }}-alpine{{ .alpine }}
      - tomcat:{{ .tag }}-{{ .tomcat }}-jdk{{ .java }}-alpine{{ .alpine | splitList "." | first }}
      - tomcat:{{ .tomcat }}-jdk{{ .java }}-alpine{{ .alpine | splitList "." | first }}
      - tomcat:{{ .tag }}-{{ .tomcat | splitList "." | first }}-jdk{{ .java }}-alpine{{ .alpine | splitList "." | first }}
      - tomcat:{{ .tomcat | splitList "." | first }}-jdk{{ .java }}-alpine{{ .alpine | splitList "." | first }}
      - tomcat:{{ .tag }}-{{ .tomcat }}-jdk{{ .java }}
      - tomcat:{{ .tomcat }}-jdk{{ .java }}
      - tomcat:{{ .tag }}-{{ .tomcat | splitList "." | first }}-jdk{{ .java }}
      - tomcat:{{ .tomcat | splitList "." | first }}-jdk{{ .java }}
      - tomcat:{{ .tag }}-{{ .tomcat }}
      - tomcat:{{ .tomcat }}
      - tomcat:{{ .tag }}-{{ .tomcat | splitList "." | first }}
      - tomcat:{{ .tomcat | splitList "." | first }}
      - tomcat:latest
